<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>立冬的浪漫礼物 ❄️</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;600;800&family=Great+Vibes&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="app">
      <div class="modal-backdrop" id="start-backdrop" aria-hidden="false">
        <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
          <div class="titlebar">
            <span class="icon">❄️</span>
            <span class="title" id="modal-title">立冬的浪漫礼物</span>
          </div>
          <div class="content">
            <p>风起立冬夜，雪落心动时。</p>
            <p>准备好让爱点亮今夜吗？</p>
          </div>
          <div class="actions">
            <button class="btn primary" id="confirm-btn" autofocus>开启魔法</button>
          </div>
        </div>
      </div>

      <main class="scene" aria-live="polite">
        <canvas id="snow-canvas" aria-hidden="true"></canvas>
        <div class="floating-lanterns" aria-hidden="true">
          <div class="lantern lantern--1"></div>
          <div class="lantern lantern--2"></div>
          <div class="lantern lantern--3"></div>
        </div>

        <div class="popup-layer" id="popup-layer" aria-live="polite" aria-atomic="false"></div>
        <div class="heart-popups" id="heart-popups" aria-live="polite" aria-atomic="false"></div>
        <div class="heart-overlay" id="heart-overlay" aria-hidden="true"></div>

        <section class="hero" id="hero">
          <h1 class="hero__title">在此立冬，雷猴啊</h1>
          <p class="hero__subtitle">
            纷飞的雪花是浪漫的诗句，漫天的星河是心动的旋律。在这温柔的夜，我们把冬日的故事悄悄打开。
          </p>
          <div class="hero__actions">
            <button class="btn secondary" id="open-letter">打开心意卡</button>
            <button class="btn ghost" id="toggle-music" aria-pressed="false">🎵 暂停音乐</button>
          </div>
        </section>

        <section class="moments" id="moments">
          <h2>冬日心动瞬间</h2>
          <div class="timeline">
            <article class="moment-card">
              <h3>第一场雪</h3>
              <p>记得那场雪，落在肩上，也落进心里，世界都安静地为我们留白。</p>
            </article>
            <article class="moment-card">
              <h3>温热奶茶</h3>
              <p>你递过来的那杯奶茶，甜味穿过指尖，连冬天的风都变得柔软。</p>
            </article>
            <article class="moment-card">
              <h3>夜色星河</h3>
              <p>星光慢慢滑过天幕，你在我身侧，将整片银河变成了眼底的光。</p>
            </article>
            <article class="moment-card">
              <h3>雪夜承诺</h3>
              <p>立冬之后，愿意与我一起收集每一场雪、每一句情话、每一个拥抱吗？</p>
            </article>
          </div>
        </section>

        <section class="surprise" id="surprise">
          <h2>给你的立冬惊喜</h2>
          <div class="gifts">
            <button class="gift" data-gift="fireflies">
              <span class="gift__icon">🕯️</span>
              <span class="gift__label">点亮烟火</span>
            </button>
            <button class="gift" data-gift="wishes">
              <span class="gift__icon">💌</span>
              <span class="gift__label">收到告白</span>
            </button>
            <button class="gift" data-gift="memory">
              <span class="gift__icon">📸</span>
              <span class="gift__label">珍藏回忆</span>
            </button>
          </div>
          <div class="surprise__display" aria-live="assertive" aria-atomic="true">
            <div class="surprise__content" id="surprise-content"></div>
          </div>
        </section>

        <section class="letter" id="love-letter" aria-hidden="true">
          <div class="letter__wrapper">
            <button class="letter__close" id="close-letter" aria-label="关闭心意卡">×</button>
            <h2>立冬心意卡</h2>
            <p>
              愿在漫长冬夜里，你有星河在怀，月光在侧，雪花为你起舞。
              愿每一次呼吸，都被温柔填满；每一步脚印，都被热情追随。
            </p>
            <p>
              若世界偶尔冷淡，请记得我正为你捧着一束光——
              让你在风雪中不再孤单，在冬夜中不再迷路。
            </p>
            <p class="signature">—— 属于你的那个人</p>
          </div>
        </section>

        <footer class="footer">
          <p>愿今夜的雪与星辰都陪你入梦。</p>
        </footer>
      </main>
    </div>

    <audio id="bgMusic" preload="auto" loop>
      <source
        src="https://lf26-music-east.douyinstatic.com/obj/ies-music-hj/7569557069053856549.mp3"
        type="audio/mpeg"
      />
    </audio>
    <audio id="chime" preload="auto">
      <source src="https://assets.mixkit.co/sfx/download/mixkit-soft-bells-1101.wav" type="audio/wav" />
    </audio>

    <script src="app.js" defer></script>
  </body>
</html>

